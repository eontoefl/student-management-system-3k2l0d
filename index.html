<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÌÜµÌï© ÌïôÏÉù Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/target-styles.css">
    <link rel="stylesheet" href="css/timeline-styles.css">
</head>
<body>
    <!-- Ìó§Îçî -->
    <header class="header">
        <div class="container">
            <h1><i class="fas fa-graduation-cap"></i> ÌÜµÌï© ÌïôÏÉù Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú</h1>
            <p class="subtitle">ÎÇ¥Î≤®ÏóÖÏ±åÎ¶∞ÏßÄ & Ïä§ÎùºÏ≤®ÏÇ≠ ÌÜµÌï© Í¥ÄÎ¶¨</p>
        </div>
    </header>

    <!-- Î©îÏù∏ Ïª®ÌÖåÏù¥ÎÑà -->
    <main class="container main-content">
        
        <!-- ÏÉÅÎã® Ïï°ÏÖò Î∞î -->
        <div class="action-bar">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Ïù¥Î¶Ñ ÎòêÎäî Ïó∞ÎùΩÏ≤òÎ°ú Í≤ÄÏÉâ...">
            </div>
            <div style="display: flex; gap: 10px;">
                <button class="btn btn-secondary" id="viewSlotsBtn">
                    <i class="fas fa-calendar-check"></i> Ïä¨Î°Ø Ï°∞Ìöå
                </button>
                <button class="btn btn-success" id="exportExcelBtn">
                    <i class="fas fa-file-excel"></i> Ï†ÑÏ≤¥ Î∞±ÏóÖ
                </button>
                <button class="btn btn-primary" id="addStudentBtn">
                    <i class="fas fa-user-plus"></i> ÌïôÏÉù Îì±Î°ù
                </button>
            </div>
        </div>

        <!-- ÌÜµÍ≥Ñ Ïπ¥Îìú -->
        <div class="stats-section">
            <!-- ÌïôÏÉù ÌòÑÌô© -->
            <div class="stats-group">
                <h3 class="stats-group-title"><i class="fas fa-users"></i> ÌïôÏÉù ÌòÑÌô© (Ï±åÎ¶∞ÏßÄ Í∏∞Ï§Ä)</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="totalStudents">0</div>
                            <div class="stat-label">Ï†ÑÏ≤¥ ÌïôÏÉù</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #4caf7d 0%, #2d8659 100%);">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="ongoingStudents">0</div>
                            <div class="stat-label">Ï±åÎ¶∞ÏßÄ ÏßÑÌñâÏ§ë</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #5b8dc9 0%, #4a73a8 100%);">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="completedStudents">0</div>
                            <div class="stat-label">ÏôÑÎ£å</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ï≤®ÏÇ≠ ÌòÑÌô© -->
            <div class="stats-group">
                <h3 class="stats-group-title"><i class="fas fa-pen"></i> Ï≤®ÏÇ≠ ÌòÑÌô© (Î∞∞Ï†ï Í∏∞Ï§Ä)</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #e0a553 0%, #c98a3d 100%);">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="waitingStudents">0</div>
                            <div class="stat-label">ÎåÄÍ∏∞Ï§ë</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #4caf7d 0%, #2d8659 100%);">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="assignedStudents">0</div>
                            <div class="stat-label">Î∞∞Ï†ïÏôÑÎ£å</div>
                        </div>
                    </div>
                    <div class="stat-card" id="slotStatusCard" style="cursor: pointer;" title="ÌÅ¥Î¶≠ÌïòÏó¨ Ïä¨Î°Ø ÏÉÅÏÑ∏ Ï°∞Ìöå">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="availableSlots">-</div>
                            <div class="stat-label">Ïä¨Î°Ø ÌòÑÌô©</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÌïôÏÉù Î™©Î°ù ÌÖåÏù¥Î∏î -->
        <section class="section">
            <h2 class="section-title">
                <i class="fas fa-list"></i> Ï†ÑÏ≤¥ ÌïôÏÉù Î™©Î°ù
            </h2>
            <div class="table-container">
                <table class="students-table">
                    <thead>
                        <tr>
                            <th>Ïù¥Î¶Ñ</th>
                            <th>Ï†êÏàò</th>
                            <th>ÏßÑÌñâÎèÑ</th>
                            <th>Ïó∞ÎùΩÏ≤ò</th>
                            <th>ÌîÑÎ°úÍ∑∏Îû®</th>
                            <th>Í∏∞Í∞Ñ</th>
                            <th>Ï≤®ÏÇ≠</th>
                            <th>Îã®Í≥Ñ</th>
                            <th>D-Day</th>
                        </tr>
                    </thead>
                    <tbody id="studentsTableBody">
                        <tr class="empty-state">
                            <td colspan="9">
                                <div style="padding: 40px; text-align: center;">
                                    <i class="fas fa-user-plus" style="font-size: 3rem; color: #ccc; margin-bottom: 15px; display: block;"></i>
                                    <h4 style="color: var(--text-color); margin-bottom: 10px;">ÏïÑÏßÅ Îì±Î°ùÎêú ÌïôÏÉùÏù¥ ÏóÜÏäµÎãàÎã§</h4>
                                    <p style="color: #999; font-size: 0.9rem;">
                                        ÏÉÅÎã®Ïùò [ÌïôÏÉù Îì±Î°ù] Î≤ÑÌäºÏùÑ ÎàåÎü¨ Ï≤´ Î≤àÏß∏ ÌïôÏÉùÏùÑ Îì±Î°ùÌïòÏÑ∏Ïöî.
                                    </p>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

    </main>

    <!-- Ïã†Í∑ú ÌïôÏÉù Îì±Î°ù Î™®Îã¨ -->
    <div id="addStudentModal" class="modal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3><i class="fas fa-user-plus"></i> Ïã†Í∑ú ÌïôÏÉù Îì±Î°ù</h3>
                <button class="close-btn" id="closeAddStudentModal">&times;</button>
            </div>
            <form id="addStudentForm">
                <div class="form-grid">
                    <!-- Í∏∞Î≥∏ Ï†ïÎ≥¥ -->
                    <div class="form-section">
                        <h4><i class="fas fa-user"></i> Í∏∞Î≥∏ Ï†ïÎ≥¥</h4>
                        <div class="form-group">
                            <label>ÌïôÏÉù Ïù¥Î¶Ñ <span class="required">*</span></label>
                            <input type="text" id="newStudentName" required>
                        </div>
                        <div class="form-group">
                            <label>Ïó∞ÎùΩÏ≤ò <span class="required">*</span></label>
                            <input type="tel" id="newStudentPhone" required placeholder="010-0000-0000">
                        </div>
                    </div>

                    <!-- Ï±åÎ¶∞ÏßÄ Ï†ïÎ≥¥ -->
                    <div class="form-section">
                        <h4><i class="fas fa-calendar-alt"></i> Ï±åÎ¶∞ÏßÄ Ï†ïÎ≥¥</h4>
                        <div class="form-group">
                            <label>ÌîÑÎ°úÍ∑∏Îû® ÏÑ†ÌÉù <span class="required">*</span></label>
                            <select id="newStudentProgram" required>
                                <option value="">ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                                <optgroup label="Ï±åÎ¶∞ÏßÄÎßå">
                                    <option value="fast_only">Fast (4Ï£º) - Ï±åÎ¶∞ÏßÄÎßå</option>
                                    <option value="standard_only">Standard (8Ï£º) - Ï±åÎ¶∞ÏßÄÎßå</option>
                                </optgroup>
                                <optgroup label="Ï±åÎ¶∞ÏßÄ + Ï≤®ÏÇ≠">
                                    <option value="fast_sra">Fast (4Ï£º) + Ï≤®ÏÇ≠</option>
                                    <option value="standard_sra">Standard (8Ï£º) + Ï≤®ÏÇ≠</option>
                                </optgroup>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Ï±åÎ¶∞ÏßÄ ÏãúÏûëÏùº <span class="required">*</span></label>
                            <input type="date" id="newStudentStartDate" required>
                        </div>
                    </div>

                    <!-- ÌòÑÏû¨ ÏÑ±Ï†Å -->
                    <div class="form-section">
                        <h4><i class="fas fa-chart-line"></i> ÌòÑÏû¨ ÏÑ±Ï†Å (ÏÑ†ÌÉùÏÇ¨Ìï≠)</h4>
                        
                        <div class="form-group">
                            <label style="display: flex; align-items: center; cursor: pointer;">
                                <input type="checkbox" id="enableCurrentScore" style="margin-right: 8px;">
                                ÌòÑÏû¨ Ï†êÏàò ÏûÖÎ†•
                            </label>
                            <small style="color: #6c757d; margin-top: 5px; display: block;">
                                üí° ÏïÑÏßÅ ÏãúÌóòÏùÑ Î≥¥ÏßÄ ÏïäÏïòÎã§Î©¥ Ï≤¥ÌÅ¨ÌïòÏßÄ ÎßàÏÑ∏Ïöî
                            </small>
                        </div>
                        
                        <div id="currentScoreInputs" class="expandable-section" style="display: none; margin-top: 15px;">
                            <div class="form-group">
                                <label>ÏÑ±Ï†Å ÌÉÄÏûÖ <span class="required">*</span></label>
                                <select id="newStudentScoreType">
                                    <option value="">ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                                    <option value="old">Í∞úÏ†ïÏ†Ñ (0-120Ï†ê)</option>
                                    <option value="new">Í∞úÏ†ïÌõÑ (1-6 Î†àÎ≤®)</option>
                                </select>
                            </div>
                            <div id="oldScoreFields" style="display: none;">
                                <div class="alert-box" style="margin-bottom: 15px; background: #f0f7ff;">
                                    <i class="fas fa-info-circle"></i>
                                    ÏÑπÏÖòÎ≥Ñ Ï†êÏàòÎ•º Î™®Î•¥Îäî Í≤ΩÏö∞ Ï¥ùÏ†êÎßå ÏûÖÎ†•ÌïòÏÑ∏Ïöî.
                                </div>
                                <div class="score-grid">
                                    <div class="form-group">
                                        <label>Reading (0-30)</label>
                                        <input type="number" id="oldReading" min="0" max="30" step="1" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Listening (0-30)</label>
                                        <input type="number" id="oldListening" min="0" max="30" step="1" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Speaking (0-30)</label>
                                        <input type="number" id="oldSpeaking" min="0" max="30" step="1" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Writing (0-30)</label>
                                        <input type="number" id="oldWriting" min="0" max="30" step="1" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                </div>
                                <div class="form-group" style="margin-top: 15px;">
                                    <label>Ï¥ùÏ†ê (0-120) <span class="required">*</span></label>
                                    <input type="number" id="oldTotal" min="0" max="120" step="1" placeholder="ÌïÑÏàò ÏûÖÎ†•">
                                </div>
                            </div>
                            <div id="newScoreFields" style="display: none;">
                                <div class="alert-box" style="margin-bottom: 15px; background: #f0f7ff;">
                                    <i class="fas fa-info-circle"></i>
                                    ÏÑπÏÖòÎ≥Ñ Î†àÎ≤®ÏùÑ Î™®Î•¥Îäî Í≤ΩÏö∞ Ï¥ù Î†àÎ≤®Îßå ÏûÖÎ†•ÌïòÏÑ∏Ïöî.
                                </div>
                                <div class="score-grid">
                                    <div class="form-group">
                                        <label>Reading (1-6)</label>
                                        <input type="number" id="newReading" min="1" max="6" step="0.5" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Listening (1-6)</label>
                                        <input type="number" id="newListening" min="1" max="6" step="0.5" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Speaking (1-6)</label>
                                        <input type="number" id="newSpeaking" min="1" max="6" step="0.5" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Writing (1-6)</label>
                                        <input type="number" id="newWriting" min="1" max="6" step="0.5" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                </div>
                                <div class="form-group" style="margin-top: 15px;">
                                    <label>Ï¥ù Î†àÎ≤® (1-6) <span class="required">*</span></label>
                                    <input type="number" id="newTotal" min="1" max="6" step="0.5" placeholder="ÌïÑÏàò ÏûÖÎ†•">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Î™©Ìëú Ï†êÏàò -->
                    <div class="form-section">
                        <h4><i class="fas fa-bullseye"></i> Î™©Ìëú Ï†êÏàò</h4>
                        
                        <!-- Ìï©Í≤© Ïª§Ìä∏ÎùºÏù∏ (ÌïÑÏàò) -->
                        <div class="target-section required-section">
                            <h5 style="margin-bottom: 15px; color: #e67e22;">
                                <i class="fas fa-certificate"></i> Ìï©Í≤© Ïª§Ìä∏ÎùºÏù∏ <span class="required">*</span>
                            </h5>
                            
                            <div class="form-group">
                                <label>Ï¥ùÏ†ê Ïª§Ìä∏ÎùºÏù∏ (1-6) <span class="required">*</span></label>
                                <input type="number" id="targetCutoffTotal" min="1" max="6" step="0.5" 
                                       value="5.0" required placeholder="Ïòà: 5.0">
                            </div>
                            
                            <div class="form-group" style="margin-top: 10px;">
                                <label style="display: flex; align-items: center; cursor: pointer;">
                                    <input type="checkbox" id="enableSectionCutoff" style="margin-right: 8px;">
                                    ÌäπÏ†ï ÏÑπÏÖò ÏµúÏÜå ÏöîÍµ¨ ÏûàÏùå
                                </label>
                            </div>
                            
                            <div id="sectionCutoffInputs" class="expandable-section" style="display: none; margin-top: 15px;">
                                <div class="score-grid">
                                    <div class="form-group">
                                        <label>Reading (1-6)</label>
                                        <input type="number" id="targetCutoffReading" min="1" max="6" step="0.5" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Listening (1-6)</label>
                                        <input type="number" id="targetCutoffListening" min="1" max="6" step="0.5" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Speaking (1-6)</label>
                                        <input type="number" id="targetCutoffSpeaking" min="1" max="6" step="0.5" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Writing (1-6)</label>
                                        <input type="number" id="targetCutoffWriting" min="1" max="6" step="0.5" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Í∞úÏù∏ Ìù¨Îßù Ï†êÏàò (ÏÑ†ÌÉù) -->
                        <div class="target-section optional-section" style="margin-top: 20px;">
                            <h5 style="margin-bottom: 15px; color: #3498db;">
                                <i class="fas fa-star"></i> Í∞úÏù∏ Ìù¨Îßù Ï†êÏàò (ÏÑ†ÌÉù)
                            </h5>
                            
                            <div class="form-group">
                                <label style="display: flex; align-items: center; cursor: pointer;">
                                    <input type="checkbox" id="enablePersonalTarget" style="margin-right: 8px;">
                                    Í∞úÏù∏ Î™©Ìëú ÏÑ§Ï†ï
                                </label>
                            </div>
                            
                            <div id="personalTargetInputs" class="expandable-section" style="display: none; margin-top: 15px;">
                                <div class="form-group">
                                    <label>ÏûÖÎ†• Î∞©Ïãù</label>
                                    <select id="personalTargetMode">
                                        <option value="total">Ï¥ùÏ†êÎßå ÏûÖÎ†•</option>
                                        <option value="sections">ÏÑπÏÖòÎ≥Ñ ÏûÖÎ†•</option>
                                    </select>
                                </div>
                                
                                <div id="personalTotalInput">
                                    <div class="form-group">
                                        <label>Î™©Ìëú Ï¥ù Î†àÎ≤® (1-6)</label>
                                        <input type="number" id="targetPersonalTotal" min="1" max="6" step="0.5" placeholder="Ïòà: 5.5">
                                    </div>
                                </div>
                                
                                <div id="personalSectionsInput" style="display: none;">
                                    <div class="score-grid">
                                        <div class="form-group">
                                            <label>Reading (1-6)</label>
                                            <input type="number" id="targetPersonalReading" min="1" max="6" step="0.5" placeholder="Ïòà: 5.5">
                                        </div>
                                        <div class="form-group">
                                            <label>Listening (1-6)</label>
                                            <input type="number" id="targetPersonalListening" min="1" max="6" step="0.5" placeholder="Ïòà: 5.5">
                                        </div>
                                        <div class="form-group">
                                            <label>Speaking (1-6)</label>
                                            <input type="number" id="targetPersonalSpeaking" min="1" max="6" step="0.5" placeholder="Ïòà: 5.5">
                                        </div>
                                        <div class="form-group">
                                            <label>Writing (1-6)</label>
                                            <input type="number" id="targetPersonalWriting" min="1" max="6" step="0.5" placeholder="Ïòà: 5.5">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Í∏∞ÌÉÄ Ï†ïÎ≥¥ -->
                    <div class="form-section">
                        <h4><i class="fas fa-info-circle"></i> Í∏∞ÌÉÄ Ï†ïÎ≥¥</h4>
                        <div class="form-group">
                            <label>ÎßàÏßÄÎßâ ÏãúÌóò ÎÇ†Ïßú</label>
                            <input type="date" id="lastTestDate">
                        </div>
                        <div class="form-group">
                            <label>ÏûÖÍ∏àÏï° (Ïõê)</label>
                            <input type="text" id="newStudentAmount" placeholder="Ïòà: 500,000">
                        </div>
                    </div>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" id="cancelAddStudent">Ï∑®ÏÜå</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Îì±Î°ùÌïòÍ∏∞
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ÌïôÏÉù ÏÉÅÏÑ∏ Î™®Îã¨ -->
    <div id="studentDetailModal" class="modal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3><i class="fas fa-user-circle"></i> <span id="detailStudentName">ÌïôÏÉù Ïù¥Î¶Ñ</span></h3>
                <div style="display: flex; gap: 10px; align-items: center;">
                    <button class="btn btn-sm btn-danger" id="deleteStudentBtn" style="font-size: 0.85rem;">
                        <i class="fas fa-trash"></i> ÌïôÏÉù ÏÇ≠Ï†ú
                    </button>
                    <button class="close-btn" id="closeDetailModal">&times;</button>
                </div>
            </div>

            <!-- ÌÉ≠ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò -->
            <div class="tabs">
                <button class="tab-btn active" data-tab="basic-info">
                    <i class="fas fa-user"></i> Í∏∞Î≥∏Ï†ïÎ≥¥
                </button>
                <button class="tab-btn" data-tab="scores">
                    <i class="fas fa-chart-line"></i> ÏÑ±Ï†ÅÍ¥ÄÎ¶¨
                </button>
                <button class="tab-btn" data-tab="test-results">
                    <i class="fas fa-clipboard-list"></i> ÏãúÌóòÍ≤∞Í≥º
                </button>
                <button class="tab-btn" data-tab="progress">
                    <i class="fas fa-tasks"></i> ÏßÑÌñâÌòÑÌô©
                </button>
                <button class="tab-btn" data-tab="sra">
                    <i class="fas fa-pen"></i> Ïä§ÎùºÏ≤®ÏÇ≠
                </button>
            </div>

            <!-- ÌÉ≠ Ïª®ÌÖêÏ∏† -->
            <div class="tab-content">
                <!-- Í∏∞Î≥∏Ï†ïÎ≥¥ ÌÉ≠ -->
                <div id="basic-info" class="tab-pane active">
                    <div class="info-grid">
                        <div class="info-item">
                            <label><i class="fas fa-user"></i> Ïù¥Î¶Ñ</label>
                            <div id="infoName">-</div>
                        </div>
                        <div class="info-item">
                            <label><i class="fas fa-phone"></i> Ïó∞ÎùΩÏ≤ò</label>
                            <div id="infoPhone">-</div>
                        </div>
                        <div class="info-item">
                            <label><i class="fas fa-book"></i> ÌîÑÎ°úÍ∑∏Îû®</label>
                            <div id="infoProgram">-</div>
                        </div>
                        <div class="info-item">
                            <label><i class="fas fa-calendar"></i> Ï±åÎ¶∞ÏßÄ ÏãúÏûëÏùº</label>
                            <div id="infoChallengeStart">-</div>
                        </div>
                        <div class="info-item">
                            <label><i class="fas fa-calendar-check"></i> Ï±åÎ¶∞ÏßÄ Ï¢ÖÎ£åÏùº</label>
                            <div id="infoChallengeEnd">-</div>
                        </div>
                        <div class="info-item">
                            <label><i class="fas fa-calendar-alt"></i> Ïä§ÎùºÏ≤®ÏÇ≠ ÏãúÏûë Í∞ÄÎä•Ïùº</label>
                            <div id="infoSraAvailable">-</div>
                        </div>
                    </div>
                    
                    <!-- ÌÉÄÏûÑÎùºÏù∏ ÏÉÅÏÑ∏ -->
                    <div id="detailTimelineContainer"></div>
                    
                    <div class="tab-actions">
                        <button class="btn btn-secondary" id="editBasicInfo">
                            <i class="fas fa-edit"></i> Ï†ïÎ≥¥ ÏàòÏ†ï
                        </button>
                    </div>
                </div>

                <!-- ÏÑ±Ï†ÅÍ¥ÄÎ¶¨ ÌÉ≠ -->
                <div id="scores" class="tab-pane">
                    <div class="scores-container">
                        <div class="score-section">
                            <h4><i class="fas fa-chart-line"></i> ÌòÑÏû¨ ÏÑ±Ï†Å</h4>
                            <div id="currentScoresDisplay"></div>
                        </div>
                        <div class="score-section">
                            <h4><i class="fas fa-bullseye"></i> Î™©Ìëú ÏÑ±Ï†Å</h4>
                            <div id="targetScoresDisplay"></div>
                        </div>
                        <div class="score-section">
                            <h4><i class="fas fa-calendar"></i> ÎßàÏßÄÎßâ ÏãúÌóò</h4>
                            <div id="lastTestDisplay">-</div>
                        </div>
                    </div>
                    <div class="tab-actions">
                        <button class="btn btn-secondary" id="editScores">
                            <i class="fas fa-edit"></i> ÏÑ±Ï†Å ÏàòÏ†ï
                        </button>
                    </div>
                </div>

                <!-- ÏãúÌóòÍ≤∞Í≥º ÌÉ≠ -->
                <div id="test-results" class="tab-pane">
                    <div class="test-results-header">
                        <h4><i class="fas fa-clipboard-list"></i> ÏãúÌóò ÌûàÏä§ÌÜ†Î¶¨</h4>
                        <button class="btn btn-primary btn-sm" id="addTestResult">
                            <i class="fas fa-plus"></i> ÏãúÌóò Í≤∞Í≥º Ï∂îÍ∞Ä
                        </button>
                    </div>
                    <div id="testResultsList"></div>
                </div>

                <!-- ÏßÑÌñâÌòÑÌô© ÌÉ≠ -->
                <div id="progress" class="tab-pane">
                    <div class="progress-container">
                        <div class="progress-section">
                            <h4><i class="fas fa-clipboard-check"></i> Ïã†Ï≤≠ Îã®Í≥Ñ</h4>
                            <div class="progress-steps">
                                <div class="progress-step" id="stepContract">
                                    <i class="fas fa-file-contract"></i>
                                    <span>Í≥ÑÏïΩÏÑú</span>
                                </div>
                                <div class="progress-step" id="stepDelivery">
                                    <i class="fas fa-box"></i>
                                    <span>ÌÉùÎ∞∞</span>
                                </div>
                                <div class="progress-step" id="stepAccess">
                                    <i class="fas fa-key"></i>
                                    <span>Ïï°ÏÑ∏Ïä§</span>
                                </div>
                                <div class="progress-step" id="stepNotification">
                                    <i class="fas fa-bell"></i>
                                    <span>ÏïåÎ¶ºÌÜ°</span>
                                </div>
                            </div>
                        </div>
                        <div class="progress-section">
                            <h4><i class="fas fa-tasks"></i> Í≥ºÏ†ú Îã¨ÏÑ±Î•†</h4>
                            <div id="assignmentProgress">
                                <p class="text-muted">Í≥ºÏ†ú ÏÇ¨Ïù¥Ìä∏ Ïó∞Îèô ÌïÑÏöî</p>
                            </div>
                        </div>
                        <div class="progress-section">
                            <h4><i class="fas fa-won-sign"></i> Í≤∞Ï†ú Ï†ïÎ≥¥</h4>
                            <div id="paymentInfo">ÏûÖÍ∏àÏï°: <strong id="displayPayment">0Ïõê</strong></div>
                        </div>
                        <div class="progress-section">
                            <h4><i class="fas fa-flag-checkered"></i> ÎßàÎ¨¥Î¶¨</h4>
                            <div class="completion-checks">
                                <div class="check-item" id="checkReview">
                                    <i class="fas fa-star"></i>
                                    <span>ÌõÑÍ∏∞ ÏûëÏÑ±</span>
                                </div>
                                <div class="check-item" id="checkSettlement">
                                    <i class="fas fa-calculator"></i>
                                    <span>Ï†ïÏÇ∞ ÏôÑÎ£å</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-actions">
                        <button class="btn btn-secondary" id="editProgress">
                            <i class="fas fa-edit"></i> ÏßÑÌñâÌòÑÌô© ÏàòÏ†ï
                        </button>
                    </div>
                </div>

                <!-- Ïä§ÎùºÏ≤®ÏÇ≠ ÌÉ≠ -->
                <div id="sra" class="tab-pane">
                    <div id="sraContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Í∏∞Î≥∏Ï†ïÎ≥¥ ÏàòÏ†ï Î™®Îã¨ -->
    <div id="editBasicInfoModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-edit"></i> Í∏∞Î≥∏ Ï†ïÎ≥¥ ÏàòÏ†ï</h3>
                <button class="close-btn" id="closeEditBasicInfo">&times;</button>
            </div>
            <form id="editBasicInfoForm">
                <div style="padding: 25px;">
                    <div class="form-group">
                        <label>ÌïôÏÉù Ïù¥Î¶Ñ <span class="required">*</span></label>
                        <input type="text" id="editName" required>
                    </div>
                    <div class="form-group">
                        <label>Ïó∞ÎùΩÏ≤ò <span class="required">*</span></label>
                        <input type="tel" id="editPhone" required>
                    </div>
                    <div class="form-group">
                        <label>ÌîÑÎ°úÍ∑∏Îû® <span class="required">*</span></label>
                        <select id="editProgram" required>
                            <option value="fast">Fast (4Ï£º)</option>
                            <option value="standard">Standard (8Ï£º)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Ï±åÎ¶∞ÏßÄ ÏãúÏûëÏùº <span class="required">*</span></label>
                        <input type="date" id="editStartDate" required>
                    </div>
                    <div class="alert-box">
                        <i class="fas fa-info-circle"></i>
                        ÏãúÏûëÏùº Î≥ÄÍ≤Ω Ïãú Ï¢ÖÎ£åÏùºÍ≥º Ïä§ÎùºÏ≤®ÏÇ≠ ÏãúÏûë Í∞ÄÎä•ÏùºÏù¥ ÏûêÎèôÏúºÎ°ú Ïû¨Í≥ÑÏÇ∞Îê©ÎãàÎã§.
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" id="cancelEditBasicInfo">Ï∑®ÏÜå</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Ï†ÄÏû•
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ÏÑ±Ï†Å ÏàòÏ†ï Î™®Îã¨ -->
    <div id="editScoresModal" class="modal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3><i class="fas fa-edit"></i> ÏÑ±Ï†Å Ï†ïÎ≥¥ ÏàòÏ†ï</h3>
                <button class="close-btn" id="closeEditScores">&times;</button>
            </div>
            <form id="editScoresForm">
                <div style="padding: 25px;">
                    <!-- ÌòÑÏû¨ ÏÑ±Ï†Å -->
                    <div class="form-section">
                        <h4><i class="fas fa-chart-line"></i> ÌòÑÏû¨ ÏÑ±Ï†Å</h4>
                        
                        <div class="form-group">
                            <label style="display: flex; align-items: center; cursor: pointer;">
                                <input type="checkbox" id="editEnableCurrentScore" style="margin-right: 8px;">
                                ÌòÑÏû¨ Ï†êÏàò ÏûÖÎ†•
                            </label>
                            <small id="editScoreStatusHint" style="color: #6c757d; margin-top: 5px; display: block;">
                                üí° ÌòÑÏû¨: Ï†êÏàò ÏóÜÏùå
                            </small>
                        </div>
                        
                        <div id="editCurrentScoreInputs" class="expandable-section" style="display: none; margin-top: 15px;">
                            <div class="form-group">
                                <label>ÏÑ±Ï†Å ÌÉÄÏûÖ</label>
                                <select id="editScoreType">
                                    <option value="">ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                                    <option value="old">Í∞úÏ†ïÏ†Ñ (0-120Ï†ê)</option>
                                    <option value="new">Í∞úÏ†ïÌõÑ (1-6 Î†àÎ≤®)</option>
                                </select>
                            </div>
                            <div id="editOldScoreFields" style="display: none;">
                                <div class="score-grid">
                                    <div class="form-group">
                                        <label>Reading (0-30)</label>
                                        <input type="number" id="editOldReading" min="0" max="30" step="1" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Listening (0-30)</label>
                                        <input type="number" id="editOldListening" min="0" max="30" step="1" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Speaking (0-30)</label>
                                        <input type="number" id="editOldSpeaking" min="0" max="30" step="1" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Writing (0-30)</label>
                                        <input type="number" id="editOldWriting" min="0" max="30" step="1" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                </div>
                                <div class="form-group" style="margin-top: 15px;">
                                    <label>Ï¥ùÏ†ê (0-120) <span class="required">*</span></label>
                                    <input type="number" id="editOldTotal" min="0" max="120" step="1" placeholder="ÌïÑÏàò ÏûÖÎ†•">
                                </div>
                            </div>
                            <div id="editNewScoreFields" style="display: none;">
                                <div class="score-grid">
                                    <div class="form-group">
                                        <label>Reading (1-6)</label>
                                        <input type="number" id="editNewReading" min="1" max="6" step="0.5" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Listening (1-6)</label>
                                        <input type="number" id="editNewListening" min="1" max="6" step="0.5" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Speaking (1-6)</label>
                                        <input type="number" id="editNewSpeaking" min="1" max="6" step="0.5" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Writing (1-6)</label>
                                        <input type="number" id="editNewWriting" min="1" max="6" step="0.5" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                </div>
                                <div class="form-group" style="margin-top: 15px;">
                                    <label>Ï¥ù Î†àÎ≤® (1-6) <span class="required">*</span></label>
                                    <input type="number" id="editNewTotal" min="1" max="6" step="0.5" placeholder="ÌïÑÏàò ÏûÖÎ†•">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Î™©Ìëú Ï†êÏàò -->
                    <div class="form-section" style="margin-top: 20px;">
                        <h4><i class="fas fa-bullseye"></i> Î™©Ìëú Ï†êÏàò</h4>
                        
                        <!-- Ìï©Í≤© Ïª§Ìä∏ÎùºÏù∏ (ÌïÑÏàò) -->
                        <div class="target-section required-section">
                            <h5 style="margin-bottom: 15px; color: #e67e22;">
                                <i class="fas fa-certificate"></i> Ìï©Í≤© Ïª§Ìä∏ÎùºÏù∏ <span class="required">*</span>
                            </h5>
                            
                            <div class="form-group">
                                <label>Ï¥ùÏ†ê Ïª§Ìä∏ÎùºÏù∏ (1-6) <span class="required">*</span></label>
                                <input type="number" id="editTargetCutoffTotal" min="1" max="6" step="0.5" 
                                       required placeholder="Ïòà: 5.0">
                            </div>
                            
                            <div class="form-group" style="margin-top: 10px;">
                                <label style="display: flex; align-items: center; cursor: pointer;">
                                    <input type="checkbox" id="editEnableSectionCutoff" style="margin-right: 8px;">
                                    ÌäπÏ†ï ÏÑπÏÖò ÏµúÏÜå ÏöîÍµ¨ ÏûàÏùå
                                </label>
                            </div>
                            
                            <div id="editSectionCutoffInputs" class="expandable-section" style="display: none; margin-top: 15px;">
                                <div class="score-grid">
                                    <div class="form-group">
                                        <label>Reading (1-6)</label>
                                        <input type="number" id="editTargetCutoffReading" min="1" max="6" step="0.5" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Listening (1-6)</label>
                                        <input type="number" id="editTargetCutoffListening" min="1" max="6" step="0.5" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Speaking (1-6)</label>
                                        <input type="number" id="editTargetCutoffSpeaking" min="1" max="6" step="0.5" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                    <div class="form-group">
                                        <label>Writing (1-6)</label>
                                        <input type="number" id="editTargetCutoffWriting" min="1" max="6" step="0.5" placeholder="ÏÑ†ÌÉù">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Í∞úÏù∏ Ìù¨Îßù Ï†êÏàò (ÏÑ†ÌÉù) -->
                        <div class="target-section optional-section" style="margin-top: 20px;">
                            <h5 style="margin-bottom: 15px; color: #3498db;">
                                <i class="fas fa-star"></i> Í∞úÏù∏ Ìù¨Îßù Ï†êÏàò (ÏÑ†ÌÉù)
                            </h5>
                            
                            <div class="form-group">
                                <label style="display: flex; align-items: center; cursor: pointer;">
                                    <input type="checkbox" id="editEnablePersonalTarget" style="margin-right: 8px;">
                                    Í∞úÏù∏ Î™©Ìëú ÏÑ§Ï†ï
                                </label>
                            </div>
                            
                            <div id="editPersonalTargetInputs" class="expandable-section" style="display: none; margin-top: 15px;">
                                <div class="form-group">
                                    <label>ÏûÖÎ†• Î∞©Ïãù</label>
                                    <select id="editPersonalTargetMode">
                                        <option value="total">Ï¥ùÏ†êÎßå ÏûÖÎ†•</option>
                                        <option value="sections">ÏÑπÏÖòÎ≥Ñ ÏûÖÎ†•</option>
                                    </select>
                                </div>
                                
                                <div id="editPersonalTotalInput">
                                    <div class="form-group">
                                        <label>Î™©Ìëú Ï¥ù Î†àÎ≤® (1-6)</label>
                                        <input type="number" id="editTargetPersonalTotal" min="1" max="6" step="0.5" placeholder="Ïòà: 5.5">
                                    </div>
                                </div>
                                
                                <div id="editPersonalSectionsInput" style="display: none;">
                                    <div class="score-grid">
                                        <div class="form-group">
                                            <label>Reading (1-6)</label>
                                            <input type="number" id="editTargetPersonalReading" min="1" max="6" step="0.5" placeholder="Ïòà: 5.5">
                                        </div>
                                        <div class="form-group">
                                            <label>Listening (1-6)</label>
                                            <input type="number" id="editTargetPersonalListening" min="1" max="6" step="0.5" placeholder="Ïòà: 5.5">
                                        </div>
                                        <div class="form-group">
                                            <label>Speaking (1-6)</label>
                                            <input type="number" id="editTargetPersonalSpeaking" min="1" max="6" step="0.5" placeholder="Ïòà: 5.5">
                                        </div>
                                        <div class="form-group">
                                            <label>Writing (1-6)</label>
                                            <input type="number" id="editTargetPersonalWriting" min="1" max="6" step="0.5" placeholder="Ïòà: 5.5">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ÎßàÏßÄÎßâ ÏãúÌóò ÎÇ†Ïßú -->
                    <div class="form-group" style="margin-top: 20px;">
                        <label>ÎßàÏßÄÎßâ ÏãúÌóò ÎÇ†Ïßú</label>
                        <input type="date" id="editLastTestDate">
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" id="cancelEditScores">Ï∑®ÏÜå</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Ï†ÄÏû•
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ÏßÑÌñâÌòÑÌô© ÏàòÏ†ï Î™®Îã¨ -->
    <div id="editProgressModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-edit"></i> ÏßÑÌñâ ÌòÑÌô© ÏàòÏ†ï</h3>
                <button class="close-btn" id="closeEditProgress">&times;</button>
            </div>
            <form id="editProgressForm">
                <div style="padding: 25px;">
                    <!-- Ïã†Ï≤≠ Îã®Í≥Ñ -->
                    <div class="form-section mb-10">
                        <h4><i class="fas fa-clipboard-check"></i> Ïã†Ï≤≠ Îã®Í≥Ñ</h4>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" id="editContract">
                                <span>Í≥ÑÏïΩÏÑú ÏôÑÎ£å</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="editDelivery">
                                <span>ÌÉùÎ∞∞ ÏôÑÎ£å</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="editAccess">
                                <span>Ïï°ÏÑ∏Ïä§ ÏôÑÎ£å</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="editNotification">
                                <span>ÏïåÎ¶ºÌÜ° ÏôÑÎ£å</span>
                            </label>
                        </div>
                    </div>

                    <!-- Í≤∞Ï†ú Ï†ïÎ≥¥ -->
                    <div class="form-group">
                        <label>ÏûÖÍ∏àÏï° (Ïõê)</label>
                        <input type="number" id="editPayment" min="0" step="10000">
                    </div>

                    <!-- ÎßàÎ¨¥Î¶¨ -->
                    <div class="form-section">
                        <h4><i class="fas fa-flag-checkered"></i> ÎßàÎ¨¥Î¶¨</h4>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" id="editReview">
                                <span>ÌõÑÍ∏∞ ÏûëÏÑ± ÏôÑÎ£å</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="editSettlement">
                                <span>Ï†ïÏÇ∞ ÏôÑÎ£å</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" id="cancelEditProgress">Ï∑®ÏÜå</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Ï†ÄÏû•
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ÏãúÌóò Í≤∞Í≥º Ï∂îÍ∞Ä Î™®Îã¨ -->
    <div id="addTestResultModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-plus"></i> ÏãúÌóò Í≤∞Í≥º Ï∂îÍ∞Ä</h3>
                <button class="close-btn" id="closeAddTestResult">&times;</button>
            </div>
            <form id="addTestResultForm">
                <div style="padding: 25px;">
                    <div class="form-group">
                        <label>ÏãúÌóò ÌöåÏ∞® <span class="required">*</span></label>
                        <select id="testNumber" required>
                            <option value="">ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                            <option value="1">1Ï∞® ÏãúÌóò</option>
                            <option value="2">2Ï∞® ÏãúÌóò</option>
                            <option value="3">3Ï∞® ÏãúÌóò</option>
                            <option value="4">4Ï∞® ÏãúÌóò</option>
                            <option value="5">5Ï∞® ÏãúÌóò</option>
                            <option value="6">6Ï∞® ÏãúÌóò</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ÏãúÌóò ÎÇ†Ïßú <span class="required">*</span></label>
                        <input type="date" id="testDate" required>
                    </div>
                    <div class="form-section">
                        <h4><i class="fas fa-chart-line"></i> ÏÑπÏÖòÎ≥Ñ Î†àÎ≤®</h4>
                        <div class="score-grid">
                            <div class="form-group">
                                <label>Reading (1-6) <span class="required">*</span></label>
                                <input type="number" id="testReading" min="1" max="6" step="0.5" required>
                            </div>
                            <div class="form-group">
                                <label>Listening (1-6) <span class="required">*</span></label>
                                <input type="number" id="testListening" min="1" max="6" step="0.5" required>
                            </div>
                            <div class="form-group">
                                <label>Speaking (1-6) <span class="required">*</span></label>
                                <input type="number" id="testSpeaking" min="1" max="6" step="0.5" required>
                            </div>
                            <div class="form-group">
                                <label>Writing (1-6) <span class="required">*</span></label>
                                <input type="number" id="testWriting" min="1" max="6" step="0.5" required>
                            </div>
                        </div>
                    </div>
                    <div class="alert-box">
                        <i class="fas fa-info-circle"></i>
                        Ï¥ù Î†àÎ≤®ÏùÄ Í∞Å ÏÑπÏÖòÏùò ÌèâÍ∑†ÏùÑ 0.5 Îã®ÏúÑÎ°ú Î∞òÏò¨Î¶ºÌïòÏó¨ ÏûêÎèô Í≥ÑÏÇ∞Îê©ÎãàÎã§.
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" id="cancelAddTestResult">Ï∑®ÏÜå</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Ï∂îÍ∞Ä
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Ïä§ÎùºÏ≤®ÏÇ≠ Ïä¨Î°Ø ÏÑ†ÌÉù Î™®Îã¨ -->
    <div id="sraSlotModal" class="modal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3><i class="fas fa-calendar-alt"></i> Ïä§ÎùºÏ≤®ÏÇ≠ Î∞∞Ï†ï - Ïä¨Î°Ø ÏÑ†ÌÉù</h3>
                <button class="close-btn" id="closeSraSlotModal">&times;</button>
            </div>
            <div style="padding: 25px;">
                <!-- ÏÑ†ÌÉùÎêú ÌïôÏÉù Ï†ïÎ≥¥ -->
                <div class="slot-info-banner" style="background: linear-gradient(135deg, #8896c4 0%, #9d8fb5 100%); color: white; padding: 15px 20px; border-radius: 8px; margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <strong id="slotStudentName" style="font-size: 1.1rem;">ÌïôÏÉù Ïù¥Î¶Ñ</strong>
                            <div style="opacity: 0.9; font-size: 0.85rem; margin-top: 4px;">
                                Ïä§ÎùºÏ≤®ÏÇ≠ ÏãúÏûë Í∞ÄÎä•Ïùº: <strong id="slotAvailableDate">-</strong>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ïä¨Î°Ø Î™©Î°ù -->
                <div id="slotsContainer">
                    <div class="text-center text-muted">Ïä¨Î°ØÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë...</div>
                </div>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" id="cancelSraSlot">Ï∑®ÏÜå</button>
            </div>
        </div>
    </div>

    <!-- Î∞∞Ï†ï ÌôïÏù∏ Î™®Îã¨ -->
    <div id="assignConfirmModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-check-circle"></i> Î∞∞Ï†ï ÌôïÏù∏</h3>
                <button class="close-btn" id="closeAssignConfirm">&times;</button>
            </div>
            <div style="padding: 25px;">
                <h4 style="margin-bottom: 15px; color: var(--text-color);">Îã§Ïùå Ï†ïÎ≥¥Î°ú Î∞∞Ï†ïÌïòÏãúÍ≤†ÏäµÎãàÍπå?</h4>
                
                <!-- ÌïôÏÉù Ï†ïÎ≥¥ -->
                <div class="form-section mb-10">
                    <h4><i class="fas fa-user"></i> ÌïôÏÉù Ï†ïÎ≥¥</h4>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <div class="info-item">
                            <label>Ïù¥Î¶Ñ</label>
                            <div id="confirmStudentName">-</div>
                        </div>
                        <div class="info-item">
                            <label>Ïó∞ÎùΩÏ≤ò</label>
                            <div id="confirmStudentPhone">-</div>
                        </div>
                        <div class="info-item">
                            <label>ÌîÑÎ°úÍ∑∏Îû®</label>
                            <div id="confirmProgram">-</div>
                        </div>
                        <div class="info-item">
                            <label>Ï±åÎ¶∞ÏßÄ Í∏∞Í∞Ñ</label>
                            <div id="confirmChallengePeriod">-</div>
                        </div>
                        <div class="info-item" style="grid-column: 1 / -1;">
                            <label>Ïä§ÎùºÏ≤®ÏÇ≠ ÏãúÏûë Í∞ÄÎä•Ïùº</label>
                            <div id="confirmSraAvailable">-</div>
                        </div>
                    </div>
                </div>

                <!-- Î∞∞Ï†ï Ï†ïÎ≥¥ -->
                <div class="form-section">
                    <h4><i class="fas fa-calendar-check"></i> Î∞∞Ï†ï Ï†ïÎ≥¥</h4>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <div class="info-item">
                            <label>Îã¥Îãπ ÏÑ†ÏÉùÎãò</label>
                            <div id="confirmTeacher">-</div>
                        </div>
                        <div class="info-item">
                            <label>ÌòÑÏû¨ Îã¥Îãπ</label>
                            <div id="confirmTeacherLoad">-</div>
                        </div>
                        <div class="info-item">
                            <label>Ï≤®ÏÇ≠ ÏãúÏûëÏùº</label>
                            <div id="confirmStartDate">-</div>
                        </div>
                        <div class="info-item">
                            <label>Ï≤®ÏÇ≠ Ï¢ÖÎ£åÏùº</label>
                            <div id="confirmEndDate">-</div>
                        </div>
                        <div class="info-item" style="grid-column: 1 / -1;">
                            <label>Ï¥ù ÌöåÏ∞®</label>
                            <div>Ï¥ù 8Ìöå ÏàòÏóÖ (Ï£º 2Ìöå: ÏùºÏöîÏùº, ÏàòÏöîÏùº)</div>
                        </div>
                    </div>
                </div>

                <!-- Í≤ΩÍ≥† Î©îÏãúÏßÄ -->
                <div id="confirmWarning" style="display: none;" class="alert-box" style="background: #fff3e0; border-color: #ffb74d; color: #e65100; margin-top: 15px;">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span id="confirmWarningText"></span>
                </div>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" id="cancelAssignConfirm">Ï∑®ÏÜå</button>
                <button type="button" class="btn btn-primary" id="confirmAssignBtn">
                    <i class="fas fa-check"></i> Î∞∞Ï†ï ÏôÑÎ£å
                </button>
            </div>
        </div>
    </div>

    <!-- Ïä¨Î°Ø Ï°∞Ìöå Î™®Îã¨ -->
    <div id="viewSlotsModal" class="modal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3><i class="fas fa-calendar-check"></i> Ïä§ÎùºÏ≤®ÏÇ≠ Ïä¨Î°Ø ÌòÑÌô©</h3>
                <button class="close-btn" id="closeViewSlotsModal">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Ï†ÑÏ≤¥ Ïä¨Î°Ø ÏöîÏïΩ -->
                <div class="form-section" style="background: linear-gradient(135deg, #f0f7ff 0%, #e8f4ff 100%); border: 2px solid #5b8dc9;">
                    <h4><i class="fas fa-info-circle"></i> Ï†ÑÏ≤¥ Ïä¨Î°Ø ÌòÑÌô©</h4>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                        <div class="info-item">
                            <label>Ï¥ù Ïä¨Î°Ø Ïàò</label>
                            <div id="viewTotalSlots" style="font-size: 1.2rem; font-weight: bold; color: var(--primary-color);">-</div>
                        </div>
                        <div class="info-item">
                            <label>ÏÇ¨Ïö© Ï§ë Ïä¨Î°Ø</label>
                            <div id="viewUsedSlots" style="font-size: 1.2rem; font-weight: bold; color: var(--primary-color);">-</div>
                        </div>
                        <div class="info-item">
                            <label>Î∞∞Ï†ï Í∞ÄÎä• Ïä¨Î°Ø</label>
                            <div id="viewAvailableSlots" style="font-size: 1.2rem; font-weight: bold; color: var(--success-color);">-</div>
                        </div>
                        <div class="info-item">
                            <label>Îã§Ïùå ÏùºÏöîÏùº ÏãúÏûë Í∞ÄÎä•</label>
                            <div id="viewNextSunday" style="font-size: 1.2rem; font-weight: bold; color: var(--primary-color);">-</div>
                        </div>
                    </div>
                </div>

                <!-- ÏÑ†ÏÉùÎãòÎ≥Ñ ÌòÑÌô© -->
                <div class="form-section">
                    <h4><i class="fas fa-chalkboard-teacher"></i> ÏÑ†ÏÉùÎãòÎ≥Ñ Ïä¨Î°Ø ÌòÑÌô©</h4>
                    <div id="teacherSlotsContainer"></div>
                </div>

                <!-- Ï£ºÍ∞Ñ Ïä¨Î°Ø Í∞ÄÎä• ÌòÑÌô© -->
                <div class="form-section">
                    <h4><i class="fas fa-calendar-week"></i> Ï£ºÍ∞Ñ Î∞∞Ï†ï Í∞ÄÎä• Ïä¨Î°Ø</h4>
                    <div id="weeklySlotsContainer"></div>
                </div>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" id="closeViewSlotsModalBtn">Îã´Í∏∞</button>
            </div>
        </div>
    </div>

    <!-- SheetJS ÎùºÏù¥Î∏åÎü¨Î¶¨ -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
